age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical")) #%>%
#as_gt %>%
#gt::gtsave(filename = "//Users//aidanbodner//Desktop//Summary.docx")
summary_table <- tbl_merge(tbls = list(summary_table_1,
summary_table_2)) %>%
as_gt %>%
gt::gtsave(file = "//Users//aidanbodner//Desktop//summary_table.rtf")
summary_table <- tbl_merge(tbls = list(summary_table_1,
summary_table_2)) %>%
as_gt %>%
gt::gtsave(file = "//Users//aidanbodner//Desktop//summary_table.docx")
# Missing data
aggplot <- aggr(analysis_data, cex.axis = .385)
# Outcome histograms
fig1 <- ggplot(analysis_data, aes(gad_total,group=employment_impact_laid_off,fill=employment_impact_laid_off)) +
geom_histogram(binwidth = 1,alpha = 0.75) + theme_classic() +
labs(x = "GAD-2 Total Score", fill = "Financial Security")
fig2 <- ggplot(analysis_data, aes(phq_total, group=employment_impact_laid_off,fill=employment_impact_laid_off)) +
geom_histogram(binwidth = 1,alpha = 0.75) + theme_classic() +
labs(x = "PHQ-2 Total Score", fill = "Financial Security")
ggsave(plot = fig1, filename  = "//Users//aidanbodner//Desktop//GAD-2.png", dpi = 700)
ggsave(plot = fig2, filename  = "//Users//aidanbodner//Desktop//PHQ-2.png", dpi = 700)
# Outcome histograms
fig1 <- ggplot(analysis_data, aes(gad_total,group=employment_impact_laid_off,fill=employment_impact_laid_off)) +
geom_histogram(binwidth = 1,alpha = 0.75) + theme_classic() +
labs(x = "GAD-2 Total Score", fill = "Laid Off")
fig2 <- ggplot(analysis_data, aes(phq_total, group=employment_impact_laid_off,fill=employment_impact_laid_off)) +
geom_histogram(binwidth = 1,alpha = 0.75) + theme_classic() +
labs(x = "PHQ-2 Total Score", fill = "Laid Off")
ggsave(plot = fig1, filename  = "//Users//aidanbodner//Desktop//GAD-2.png", dpi = 700)
ggsave(plot = fig2, filename  = "//Users//aidanbodner//Desktop//PHQ-2.png", dpi = 700)
analysis_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "exact")
summary(analysis_match)
analysis_match_data <-  match.data(analysis_match)
analysis_match_data$gad_clinical_cut <- ifelse(analysis_match_data$gad_total >= 3,1,0) #creating a binary variable based on the clinical cut off of GAD-2
analysis_match_data$phq_clinical_cut <- ifelse(analysis_match_data$phq_total >= 3,1,0)
table(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut)
gad_chi <- chisq.test(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut)
table(analysis_match_data$employment_impact_laid_off, analysis_match_data$phq_clinical_cut)
phq_chi <- chisq.test(analysis_match_data$employment_impact_laid_off, analysis_match_data$phq_clinical_cut)
prop.table(table(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut))*100
table(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut)
gad_chi <- chisq.test(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut)
table(analysis_match_data$employment_impact_laid_off, analysis_match_data$phq_clinical_cut)
phq_chi <- chisq.test(analysis_match_data$employment_impact_laid_off, analysis_match_data$phq_clinical_cut)
table(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut)
gad_chi <- chisq.test(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut)
table(analysis_match_data$employment_impact_laid_off, analysis_match_data$phq_clinical_cut)
phq_chi <- chisq.test(analysis_match_data$employment_impact_laid_off, analysis_match_data$phq_clinical_cut)
gad_chi
phq_chi
prop.table(table(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut))*100
?prop.table
prop.table(table(analysis_match_data$employment_impact_laid_off, analysis_match_data$gad_clinical_cut), 1)*100
prop.table(table(analysis_match_data$employment_impact_laid_off, analysis_match_data$phq_clinical_cut), 1)*100
?mantelhaen.test
table(analysis_match_data$money_fetting_by, analysis_match_data$gad_clinical_cut, analysis_data$employment_impact_laid_off)
length(analysis_data$employment_impact_laid_off)
length(analysis_match_data$gad_clinical_cut)
length(analysis_match_data$money_fetting_by)
table(analysis_match_data$money_fetting_by, analysis_match_data$gad_clinical_cut, analysis_match_data$employment_impact_laid_off)
?table()
table(analysis_match_data$money_fetting_by, analysis_match_data$gad_clinical_cut, analysis_match_data$employment_impact_laid_off == "Yes")
gad_table <- table(analysis_match_data$money_fetting_by, analysis_match_data$gad_clinical_cut, analysis_match_data$employment_impact_laid_off)
prop.table(gad_table, 1)*100
gad_mantel <- mantelhaen.test(gad_table)
gad_mantel
gad_table
gad_table
prop.table(gad_table, 1)*100
prop.table(gad_table)*100
prop.table(gad_table, 2)*100
prop.table(gad_table, 1)*100
?prop.table
prop.table(gad_table, 3)*100
prop.table(gad_table, 1)*100
gad_mantel <- mantelhaen.test(gad_table)
gad_mantel
phq_table <- table(analysis_match_data$money_fetting_by, analysis_match_data$phq_clinical_cut, analysis_match_data$employment_impact_laid_off)
phq_table
prop.table(phq_table, 1)*100
phq_mantel <- mantelhaen.test(phq_table)
phq_mantel
?mantelhaen.test
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse) # load the installed package for each new session of R
library(broom) # helps for storing regression output
library(here) # for file organization
library(gtsummary) # For creating summary statistics table
library(gt) # For outputting gt objects
library(MatchIt) # For matching
library(mice) # For imputation
library(modelsummary) # For regression tables
library(VIM) # To visualize missing data
library(cowplot) # To create legend for histogram
summary_table_1 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
employment_impact_laid_off ~ "Laid off temporarily or permanently during COVID-19 Pandemic",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical"))
analysis_data <- read.csv("/Users/aidanbodner/Documents/GitHub/HAD5744-Group-Project/1. Data/imputed_data.csv")
summary_table_1 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
employment_impact_laid_off ~ "Laid off temporarily or permanently during COVID-19 Pandemic",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical"))
summary_table_2 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
by = employment_impact_laid_off,
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
money_fetting_by ~ "Concerned that the money I have or will save wont last",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical")) #%>%
#as_gt %>%
#gt::gtsave(filename = "//Users//aidanbodner//Desktop//Summary.docx")
summary_table <- tbl_merge(tbls = list(summary_table_1,
summary_table_2)) %>%
as_gt %>%
gt::gtsave(file = "//Users//aidanbodner//Desktop//summary_table.docx")
summary_table_1 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
employment_impact_laid_off ~ "Laid off temporarily or permanently during COVID-19 Pandemic",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical"))
summary_table_2 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
by = employment_impact_laid_off,
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical")) #%>%
#as_gt %>%
#gt::gtsave(filename = "//Users//aidanbodner//Desktop//Summary.docx")
summary_table <- tbl_merge(tbls = list(summary_table_1,
summary_table_2)) %>%
as_gt %>%
gt::gtsave(file = "//Users//aidanbodner//Desktop//summary_table.docx")
knitr::opts_chunk$set(echo = TRUE)
library(gtsummary) # For creating summary statistics table
library(gt) # For outputting gt objects
library(here) # for file organization
analysis_data <- read.csv("/Users/aidanbodner/Documents/GitHub/HAD5744-Group-Project/1. Data/imputed_data.csv")
table(analysis_data$money_fetting_by)
analysis_data$money_fetting_by <- as.factor(analysis_data$money_fetting_by)
analysis_data$money_fetting_by <- relevel(analysis_data$money_fetting_by, ref = "Yes")
summary_table_1 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
employment_impact_laid_off ~ "Laid off temporarily or permanently during COVID-19 Pandemic",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical"))
summary_table_2 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
by = employment_impact_laid_off,
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical"))
summary_table <- tbl_merge(tbls = list(summary_table_1,
summary_table_2)) %>%
as_gt %>%
gt::gtsave(file = "//Users//aidanbodner//Desktop//summary_table.docx")
analysis_data$money_fetting_by <- as.factor(analysis_data$money_fetting_by)
analysis_data$money_fetting_by <- relevel(analysis_data$money_fetting_by, ref = "No")
table(analysis_data$money_fetting_by)
analysis_data$money_fetting_by <- as.factor(analysis_data$money_fetting_by)
analysis_data$money_fetting_by <- relevel(analysis_data$money_fetting_by, ref = "Yes")
table(analysis_data$money_fetting_by)
tbl_summary()
?tbl_summary
analysis_data$money_fetting_by <- as.factor(analysis_data$money_fetting_by)
analysis_data$money_fetting_by <- relevel(analysis_data$money_fetting_by, ref = "Yes")
summary_table_1 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
employment_impact_laid_off ~ "Laid off temporarily or permanently during COVID-19 Pandemic",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
value = list(money_fetting_by ~ "No"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical"))
summary_table_2 <- tbl_summary(analysis_data, include = c("gad_total", "phq_total", "occupation",
"money_fetting_by", "age_groups", "employment_impact_laid_off",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
by = employment_impact_laid_off,
label = list(gad_total ~ "GAD Score",
money_fetting_by ~ "I am just getting by financially",
phq_total ~ "PHQ Score",
occupation ~ "Occupation",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership"),
value = list(money_fetting_by ~ "No"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical"))
summary_table <- tbl_merge(tbls = list(summary_table_1,
summary_table_2)) %>%
as_gt %>%
gt::gtsave(file = "//Users//aidanbodner//Desktop//summary_table.docx")
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse) # load the installed package for each new session of R
library(broom) # helps for storing regression output
library(here) # for file organization
library(gtsummary) # For creating summary statistics table
library(gt) # For outputting gt objects
library(MatchIt) # For matching
library(mice) # For imputation
library(modelsummary) # For regression tables
library(VIM) # To visualize missing data
analysis_data <- read.csv("/Users/aidanbodner/Documents/GitHub/HAD5744-Group-Project/1. Data/imputed_data.csv")
analysis_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "exact")
summary(analysis_match)
?summary
mathc_frame <- as.data.frame(summary(analysis_match))
View(analysis_match)
mathc_frame <- summary(analysis_match)
View(mathc_frame)
knitr::opts_chunk$set(echo = TRUE)
assign_data <- read_dta("/Users/aidanbodner/Documents/GitHub/HAD5744/Assignment 2/Dataset2a_Claims (1).dta")
library(haven) # To import data
assign_data <- read_dta("/Users/aidanbodner/Documents/GitHub/HAD5744/Assignment 2/Dataset2a_Claims (1).dta")
View(assign_data)
knitr::opts_chunk$set(echo = TRUE)
analysis_data <- read.csv("/Users/aidanbodner/Documents/GitHub/HAD5744-Group-Project/1. Data/imputed_data.csv")
library(tidyverse) # load the installed package for each new session of R
library(broom) # helps for storing regression output
library(here) # for file organization
library(gtsummary) # For creating summary statistics table
library(gt) # For outputting gt objects
library(MatchIt) # For matching
library(mice) # For imputation
library(modelsummary) # For regression tables
library(VIM) # To visualize missing data
question1d_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "nearest",
replace = TRUE,
distance = "scaled_euclidean",
verbose = TRUE)
summary(question1d_match)
analysis_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "exact")
analysis_match_data <-  match.data(analysis_match)
summary(analysis_match_data)
summary(analysis_match)
summary(question1d_match)
question1e_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "nearest",
distance='glm', # generalized linear model for propensity,
replace = TRUE
)
analysis_data$employment_impact_laid_off <- as.numeric(analysis_data$employment_impact_laid_off)
question1e_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "nearest",
distance='glm', # generalized linear model for propensity,
replace = TRUE
)
View(analysis_data)
analysis_data <- read.csv("/Users/aidanbodner/Documents/GitHub/HAD5744-Group-Project/1. Data/imputed_data.csv")
analysis_data$employment_impact_laid_off <- as.factor(analysis_data$employment_impact_laid_off)
question1e_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "nearest",
distance='glm', # generalized linear model for propensity,
replace = TRUE
)
summary(question1e_match)
summary(question1d_match)
analysis_match_data <- match.data(question1d_match)
match_table <- tbl_summary(analysis_match_data, include = c("occupation", "employment_impact_laid_off",
"money_fetting_by", "age_groups",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
by = employment_impact_laid_off,
label = list(occupation ~ "Occupation",
money_fetting_by ~ "I am just getting by financially.",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership",
money_fetting_by ~ "I am just getting by financially"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical",
money_fetting_by ~ "categorical")) %>%
add_p(test = everything() ~ "fisher.test")
match_table
analysis_match_data <- match.data(question1e_match)
match_table <- tbl_summary(analysis_match_data, include = c("occupation", "employment_impact_laid_off",
"money_fetting_by", "age_groups",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
by = employment_impact_laid_off,
label = list(occupation ~ "Occupation",
money_fetting_by ~ "I am just getting by financially.",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership",
money_fetting_by ~ "I am just getting by financially"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical",
money_fetting_by ~ "categorical")) %>%
add_p(test = everything() ~ "fisher.test")
match_table
question1e_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "nearest",
distance='glm', # generalized linear model for propensity,
caliper = "0.5",
replace = TRUE
)
question1e_match <- matchit(employment_impact_laid_off ~ occupation + age_groups + gender + identity_lgbtq +
identity_bipoc + income + own_rent,
data = analysis_data,
method = "nearest",
distance='glm', # generalized linear model for propensity,
caliper = 0.5,
replace = TRUE
)
analysis_match_data <- match.data(question1e_match)
match_table <- tbl_summary(analysis_match_data, include = c("occupation", "employment_impact_laid_off",
"money_fetting_by", "age_groups",
"gender", "identity_lgbtq", "identity_bipoc", "income", "own_rent"),
by = employment_impact_laid_off,
label = list(occupation ~ "Occupation",
money_fetting_by ~ "I am just getting by financially.",
age_groups ~ "Age",
gender ~ "Gender",
identity_lgbtq ~ "Sexual or gender minority (e.g., LGBTQ2+)",
identity_bipoc ~ "Person of colour (e.g., Black, Indigenous, Asian  or other racialized minority)",
income ~ "Income",
own_rent ~ "Dwelling Ownership",
money_fetting_by ~ "I am just getting by financially"),
missing = "no",
type = list(identity_lgbtq ~ "categorical",
identity_bipoc ~ "categorical",
occupation ~ "categorical",
age_groups ~ "categorical",
income ~ "categorical",
own_rent ~ "categorical",
gender ~ "categorical",
money_fetting_by ~ "categorical")) %>%
add_p(test = everything() ~ "fisher.test")
match_table
